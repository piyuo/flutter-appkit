# Contributing Guidelines

We follow a **GitHub Projects-driven workflow** that combines issue tracking with visual project management for better team coordination and automated status tracking.

## üìã Quick Start

- [Project Board Workflow](#project-board-workflow)
- [Branching Strategy](#branching-strategy)
- [Development Workflow](#development-workflow)
- [Code Standards](#code-standards)

## üìä Project Board Workflow

We use **GitHub Projects Sprint Board** for visual project management and automated workflow tracking.

### Sprint Board Columns
- **Backlog** - New issues waiting for planning
- **Ready** - Issues planned and ready to start
- **In Progress** - Currently being worked on
- **In Review** - Pull request created, waiting for review
- **Done** - Completed and merged to develop

### Automated Workflows
Our project board includes automated rules:
- **When pull request is merged to develop** ‚Üí Set status to "Done" and close issue

## üåø Branching Strategy

We follow a simplified **Issue-Driven Git Flow** for branch management:

```mermaid
gitGraph
    commit id: "Initial"
    branch develop
    checkout develop
    commit id: "Setup"
    branch issue-17-fix-auth
    checkout issue-17-fix-auth
    commit id: "Fix auth bug"
    checkout develop
    merge issue-17-fix-auth
    branch issue-25-add-feature
    checkout issue-25-add-feature
    commit id: "Add feature"
    checkout develop
    merge issue-25-add-feature
    checkout main
    merge develop
    commit id: "Release v1.0.0"
```

### Main Branches
- **`main`** - Production branch (stable, released code)
- **`develop`** - Integration branch (latest features for next release)

### Issue-Based Branches
All development work uses issue-based branches:
- **Created via**: GitHub's issue branch creation feature only
- **Naming**: Auto-generated by GitHub (e.g., `17-fix-payment-gateway`, `25-add-user-auth`)
- **Branch from**: Always `develop` for regular development
- **Merge back to**: `develop` for all regular development work

## üîÑ Development Workflow

### 1. Create an Issue
All work must begin with a GitHub Issue to track the problem or feature request.

### 2. Add Issue to Sprint Board
**Before starting any work**, add the issue to the Sprint Board and fill in the planning fields:

#### Required Fields:
```
‚ñ° Priority: High/Medium/Low
‚ñ° Estimate: Expected effort in story points
‚ñ° Iteration: Target sprint/milestone
‚ñ° Start Date: When you plan to begin work
‚ñ° Assignee: Assign to yourself
```

#### Story Point Reference:
| Story Points | Duration  | Description                       |
| ------------ | --------- | --------------------------------- |
| 1            | 1-2 hours | Very simple fix                   |
| 2            | Half day  | Simple feature/bug fix            |
| 3            | 1 day     | Moderate complexity               |
| 5            | 2-3 days  | Complex feature                   |
| 8+           | 1+ week   | Very complex (consider splitting) |

### 3. Create Your Branch
1. Navigate to the GitHub Issue
2. Click "Create a branch for this issue"
3. **Important**: Choose `develop` as source branch
4. GitHub will auto-generate a descriptive branch name

### 4. Development and Commit Guidelines
Follow [Conventional Commits](https://www.conventionalcommits.org/) format:

```
<type>(<scope>): <description>
```

#### Common Types and Scopes:
| Type     | Description   | Example                                         |
| -------- | ------------- | ----------------------------------------------- |
| `feat:`  | New feature   | `feat(auth): add support for 2FA login`         |
| `fix:`   | Bug fix       | `fix(ui): correct button alignment in settings` |
| `docs:`  | Documentation | `docs(api): update authentication endpoints`    |
| `chore:` | Maintenance   | `chore(deps): update dependencies to latest`    |

### 5. Pull Request Process
- **Target branch**: Always merge to `develop`
- **Automated linking**: Issues are automatically linked via branch names
- **Review required**: Wait for approval and CI checks
- **Automatic status**: Issue moves to "Done" when merged

## üí° Code Standards

### Quality Requirements
- **Linting**: All warnings must be resolved before merging
- **Test coverage**: Minimum 80% for new code
- **Unit tests**: Required for all business logic
- **Integration tests**: Required for API endpoints and critical flows

### Naming Conventions
- **Variables**: camelCase (JS/Dart) or snake_case (Python)
- **Functions**: Descriptive verbs (`getUserById`, `calculateTotalPrice`)
- **Classes**: PascalCase (`UserService`, `PaymentGateway`)
- **Files**: kebab-case (`user-service.js`, `payment-gateway.dart`)

### Best Practices
- **Keep functions small**: Under 20 lines ideally, max 50 lines
- **Single responsibility**: Each function/class has one clear purpose
- **Avoid deep nesting**: Maximum 3 levels of indentation
- **Meaningful comments**: Explain why, not what
- **Remove dead code**: Delete unused functions, variables, imports

## üö® Emergency Procedures

For **critical production issues** that require immediate fixes, see our detailed guide:
‚Üí **[Hotfix Guide](docs/HOTFIX_GUIDE.md)**

## üöÄ Release Management

For **release preparation** and deployment procedures, see our detailed guide:
‚Üí **[Release Process](docs/RELEASE_PROCESS.md)**

## ü§î FAQ

**Q: Can I work on multiple issues simultaneously?**
A: Yes, create separate branches for each issue and move them to "In Progress" individually.

**Q: Do I need to include "fixes #123" in commits?**
A: No! GitHub Projects automation handles issue closure automatically.

**Q: What if GitHub's "Create a branch" button isn't available?**
A: Contact a repository maintainer for write permissions.

**Q: How specific should commit scopes be?**
A: Use the most specific scope that makes sense (e.g., `feat(auth)` or `feat(auth/2fa)`).

---

## üéØ Quick Reference

### Standard Workflow:
```
1. Create GitHub Issue
2. Add to Sprint Board (Priority, Estimate, etc.)
3. Move to "In Progress"
4. Click "Create a branch for this issue" (from develop)
5. Develop and commit with conventional format
6. Create PR to develop
7. Merge ‚Üí Auto closes issue and moves to "Done"
```

### Common Commands:
```bash
# Update branch with latest develop
git fetch origin
git rebase origin/develop
git push --force-with-lease origin <branch-name>

# Commit with conventional format
git commit -m "feat(scope): description"
git commit -m "fix(scope): bug description"
```

---

Thank you for contributing! üôè