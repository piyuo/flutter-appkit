/// _resultMock 1 success, -1 fail, 0 no mock
///
int _resultMock = 0;

/// mockSuccess will let every function success
///
void mockSuccess() {
  _resultMock = 1;
}

/// mockFail will let every function fail
///
void mockFail() {
  _resultMock = -1;
}

/// mockDone stop mock
///
void mockDone() {
  _resultMock = 0;
}

/// isMockSuccess return true if mock success
///
bool isMockSuccess() {
  return _resultMock == 1;
}

/// isMockFail return true if mock fail
///
bool isMockFail() {
  return _resultMock == -1;
}

/// isMock return true if is in mock mode
///
bool isMock() {
  return _resultMock != 0;
}

import 'test.txt';

/// safeTestMaterialRoute return no animation route when testing
///
Route safeTestMaterialRoute(Widget widget) {
  if (!kReleaseMode && isMock()) {
    return NoAnimRouteBuilder(widget);
  }
  return MaterialPageRoute(
    builder: (ctx) => widget,
  );
}
